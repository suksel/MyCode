{"version":2,"type":"job","id":"bb2c0bab-9fcc-43e8-8944-63bb4049c24d","name":"Process Flow 1","label":"Process Flow 1","description":"","created":1602840500639,"modified":1602840500639,"notes":"","parameters":{"server":"","target":"com.sas.ep.sascoder.execution.producers.VPP","action":"processFlow","priority":"Reserved"},"properties":{"left":"20","top":"20","width":"100","height":"60","region":"output","fillcolor":"#FCFCFC","linecolor":"#9a9a9a","tooltip":"","portsonly":false,"key":"control","visible":true,"readonly":false},"steps":[{"version":2,"type":"task","id":"e874db72-4157-4260-801e-e5f2c71cb7ac","name":"","label":"Convert Negative to Missing","description":"","created":1602840500639,"modified":1602840500639,"notes":"","parameters":{"server":"","target":"com.sas.ep.sascoder.execution.producers.VPP","action":"runSASCode","priority":"Reserved","code":"**********************************************************************************************************************************************************\n* Example of how to convert all negative values to Missing                                                                                               *\n* Based on https://blogs.sas.com/content/sastraining/2017/06/27/how-to-perform-an-operation-on-all-numeric-or-all-character-variables-in-a-sas-data-set/ *\n* Started with the Transform Data task and modified                                                                                                      *\n*                                                                                                                Steve Ludlow - SAS UK - October 2020    *\n* Note: it converts ALL numeric fields if a date was before 01Jan1960 then it would convert that to 0 as well                                            *\n**********************************************************************************************************************************************************\n;\n\ndata work.transform0017;\n\tset WORK.NEGATIVE;\n\tarray Nums {*} _numeric_;\n\n\tdo i=1 to dim(Nums);\n\n\t\tif Nums[i] lt 0 then\n\t\t\tNums[i}=.;\n\tend;\n\tdrop i;\nrun;","ctm":"C:/Users/viya35/sasdemo/MyCode/Convert Negative to Missing.ctm","serializedData":"<Task schemaVersion=\"5.4\">\n   <Registration>\n      <Name>Convert All Negative Values to Missing</Name>\n      <Description>This task converts ALL NUMERIC variables where the value is negative to Missing</Description>\n      <GUID>9f2c8653-549d-4714-abc7-c0be38abb3de</GUID>\n      <Procedures/>\n      <Version>3.8</Version>\n      <Links>\n         <Link href=\"http://documentation.sas.com/?softwareId=STUDIOMID&amp;softwareVersion=3.8&amp;softwareContextId=tasks&amp;requestor=inapp\">SAS Studio Task Reference Guide</Link>\n         <Link href=\"\"> </Link>\n         <Link href=\"\"> </Link>     \n\t\t <Link href=\"http://documentation.sas.com/?softwareId=MVADOC&amp;softwareVersion=3.8_9.4&amp;softwareContextId=data_step&amp;requestor=inapp\">DATA Step Functions</Link>\t\t \n         <Link href=\"\"> </Link>\n         <Link href=\"\"> </Link>         \n         <Link href=\"http://support.sas.com/training/studio\">SAS Tutorials</Link>           \n      </Links>\n   <Category>HMRC</Category>\n   </Registration>\n   <Metadata>\n\t\t\n      <DataSources>\n         <DataSource name=\"dataset\" where=\"true\"> \n         <Roles>\n            <Role maxVars=\"1\" minVars=\"1\" name=\"var1\" type=\"N\">Variable 1:</Role>              \n            <Role maxVars=\"1\" minVars=\"0\" name=\"var2\" type=\"N\">Variable 2:</Role>\n            <Role maxVars=\"1\" minVars=\"0\" name=\"var3\" type=\"N\">Variable 3:</Role>            \n         </Roles>\n         </DataSource>      \n      </DataSources>\n\n      <Options>\n         <Option inputType=\"string\" name=\"datatab\">DATA</Option>        \n         <Option inputType=\"string\" name=\"datagrp\">DATA</Option>\n  \n         \n         <Option inputType=\"string\" name=\"outputgrp\">OUTPUT DATA SET</Option>\n         <Option defaultValue=\"work.transform\" indent=\"1\" inputType=\"outputdata\" name=\"outputDS\" required=\"true\" unique=\"true\">Data set name:</Option>\n\t\t\t<Option inputType=\"string\" name=\"showDataGroup\">Show Output Data</Option>\n\t\t\t<Option defaultValue=\"0\" inputType=\"checkbox\" name=\"showData\">Show output data</Option>\n\t\t\t<Option defaultValue=\"showSubsetDataChoice\" inputType=\"combobox\" name=\"showDataCombo\">Show:</Option>\n\t\t\t<Option inputType=\"string\" name=\"showSubsetDataChoice\">Show subset of output data</Option>\n\t\t\t<Option inputType=\"string\" name=\"showAllDataChoice\">Show all output data</Option>\n\t\t\t<Option decimalPlaces=\"0\" defaultValue=\"10\" increment=\"1\" indent=\"1\" inputType=\"numstepper\" invalidMessage=\"Enter an integer greater than 0 for the number of observations to be shown\" minValue=\"1\" missingMessage=\"Enter an integer greater than 0 for the number of observations to be shown\" name=\"subsetNobs\" promptMessage=\"Enter an integer greater than 0 for the number of observations to be shown\" rangeMessage=\"Enter an integer greater than 0 for the number of observations to be shown\" required=\"true\">Number of observations to show:</Option>\n      <Option inputType=\"string\" name=\"printTitle\">Transformed data set</Option>\n         \n      </Options>\n\t\t\n      </Metadata>\n      <UI>\n      <Container option=\"datatab\">\n         <Group open=\"true\" option=\"datagrp\">      \n            <DataItem data=\"dataset\"/>\n         </Group>\n     \n        \n         <Group open=\"true\" option=\"outputgrp\">\n            <OptionItem option=\"outputDS\"/>\n\t\t\t\t<Group open=\"true\" option=\"showDataGroup\">\n\t\t\t\t\t<OptionItem option=\"showData\"/>\n\t\t\t\t\t<OptionChoice option=\"showDataCombo\">\n\t\t\t\t\t\t<OptionItem option=\"showSubsetDataChoice\"/>\n\t\t\t\t\t\t<OptionItem option=\"showAllDataChoice\"/>\n\t\t\t\t\t</OptionChoice>\n\t\t\t\t\t<OptionItem option=\"subsetNobs\"/>\n\t\t\t\t</Group>            \n         </Group>         \n      </Container>\n      </UI>\n      \n      <Dependencies>\n     \n    \n      </Dependencies>\n\t\n   <CodeTemplate>\n\t<![CDATA[\n\t\n**********************************************************************************************************************************************************\n* Example of how to convert all negative values to Missing                                                                                               *\n* Based on https://blogs.sas.com/content/sastraining/2017/06/27/how-to-perform-an-operation-on-all-numeric-or-all-character-variables-in-a-sas-data-set/ *\n* Started with the Transform Data task and modified                                                                                                      *\n*                                                                                                                Steve Ludlow - SAS UK - October 2020    *\n* Note: it converts ALL numeric fields if a date was before 01Jan1960 then it would convert that to 0 as well                                            *\n**********************************************************************************************************************************************************\n;\n\ndata $outputDS;\n   set $dataset;\n    array Nums {*}  _numeric_;\n  do i=1 to dim(Nums);\n  if Nums[i] lt 0 then Nums[i}=.;\n  end;\n  drop i;\n run;\n \n#if ($showData == '1')\nproc print data=$outputDS#if($showDataCombo == 'showSubsetDataChoice')(obs=$subsetNobs)#end;\ntitle \"$printTitle - ${outputDS.get('value')}\";\nrun;\ntitle;\n#end\n\t]]>\n   </CodeTemplate>\n</Task>"},"properties":{"left":"331","top":"121","width":"100","height":"60","region":"output","fillcolor":"#E0E6F1","linecolor":"#6882a3","tooltip":"Convert Negative to Missing","portsonly":true,"key":"control","visible":true,"icon":"sasTaskIcon"}}],"nodes":[{"version":2,"type":"data","id":"67625f78-fcc9-49bd-8736-1c59b3d3e9f0","name":"NEGATIVE","label":"NEGATIVE","description":"","created":1602840500640,"modified":1602840500640,"notes":"","parameters":{"server":"","source":"libraries~WORK/NEGATIVE.DATA","libref":"WORK","library":""},"properties":{"left":"92","top":"113","width":"100","height":"60","region":"output","fillcolor":"#E0E6F1","linecolor":"#6882a3","tooltip":"NEGATIVE","portsonly":true,"key":"control","visible":true}}],"ports":[{"version":2,"type":"port","id":"f8a3b104-ca50-4424-80dd-b6a4549999fc","name":"","label":"","description":"","created":1602840500641,"modified":1602840500641,"notes":"","parameters":{},"properties":{"left":"311","top":"135","width":"13","height":"13","parent":"e874db72-4157-4260-801e-e5f2c71cb7ac","region":"input","readonly":false,"disabled":false,"fillcolor":"#E0E6F1","linecolor":"#6882a3","key":"control"}},{"version":2,"type":"port","id":"af93088e-d49b-4202-837a-9d9056806062","name":"","label":"","description":"","created":1602840500641,"modified":1602840500641,"notes":"","parameters":{},"properties":{"left":"438","top":"144","width":"13","height":"13","parent":"e874db72-4157-4260-801e-e5f2c71cb7ac","region":"output","readonly":false,"disabled":false,"fillcolor":"#E0E6F1","linecolor":"#6882a3","key":"control"}},{"version":2,"type":"port","id":"df1a510a-5df5-43c4-8b44-17d3badcef18","name":"NEGATIVE","label":"","description":"","created":1602840500641,"modified":1602840500641,"notes":"","parameters":{},"properties":{"left":"311","top":"153","width":"13","height":"13","parent":"e874db72-4157-4260-801e-e5f2c71cb7ac","region":"input","readonly":true,"disabled":false,"fillcolor":"#E0E6F1","linecolor":"#6882a3","key":"data","icon":"sasSASDataSetIcon10","libref":"WORK"}},{"version":2,"type":"port","id":"d161d328-1f08-421a-83e9-f7fbfce94da0","name":"","label":"","description":"","created":1602840500641,"modified":1602840500641,"notes":"","parameters":{},"properties":{"left":"199","top":"136","width":"13","height":"13","parent":"67625f78-fcc9-49bd-8736-1c59b3d3e9f0","region":"output","readonly":false,"disabled":false,"fillcolor":"#E0E6F1","linecolor":"#6882a3","key":"control"}}],"connectors":[{"version":2,"type":"link","id":"d1569a96-aebe-4ddb-8bac-c9282b6a54dc","name":"","label":"","description":"","created":1602840500642,"modified":1602840500642,"notes":"","parameters":{},"properties":{"linecolor":"#C0C0C0","linestyle":"Line"},"sources":[{"value":"d161d328-1f08-421a-83e9-f7fbfce94da0"}],"targets":[{"value":"f8a3b104-ca50-4424-80dd-b6a4549999fc"}]}]}